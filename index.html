<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GetYourGuide Widget</title>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
    <!-- Carrega o script do GetYourGuide -->
    <script async defer src="https://widget.getyourguide.com/dist/pa.integration.js"></script>
    <style>
      /* Ajusta o tamanho do widget para ocupar a tela inteira */
      div[data-gyg-widget] {
        width: 100% !important;
        height: auto !important;
        margin: 0 !important;
      }

      /* Remove margens e padding da página */
      body {
        margin: 0;
        padding: 0;
        overflow-x: hidden;
      }

      /* Esconde textos indesejados */
      .gyg-footer,
      .gyg-affiliate-disclaimer {
        display: none !important;
      }
    </style>
  </head>
  <body>
    <!-- Widget -->
    <div
      data-gyg-href="https://widget.getyourguide.com/default/activities.frame"
      data-gyg-location-id="4846"
      data-gyg-locale-code="pt-BR"
      data-gyg-widget="activities"
      data-gyg-number-of-items="55"
      data-gyg-cmp="luso_ontario"
      data-gyg-partner-id="7LP6DCR"
    ></div>

    <!-- Script para monitorar erros e garantir renderização -->
    <script>
      window.addEventListener("load", function () {
        const widgetElement = document.querySelector("div[data-gyg-widget]");
        if (!widgetElement) {
          console.error("O elemento do widget não foi encontrado.");
          return;
        }

        widgetElement.addEventListener("load", () => {
          console.log("Widget carregado com sucesso.");
        });

        setTimeout(() => {
          if (!widgetElement.innerHTML.trim()) {
            console.error("O widget parece não ter carregado corretamente.");
            widgetElement.innerHTML =
              "<p>O widget não pode ser carregado no momento. Tente novamente mais tarde.</p>";
          }
        }, 3000);
      });
    </script>
  </body>
</html>
